(this.webpackJsonpmemory=this.webpackJsonpmemory||[]).push([[0],{43:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(18),a=c.n(r),i=c(9),u=c(20),l=c(3),o=c(19),j=c.n(o),d=(c(43),c(0)),b=function(e){var t=e.imgSource,c=e.className,n=e.onClick;return Object(d.jsx)("div",{className:"squaregrid-card ".concat(c),onClick:n,children:Object(d.jsx)("div",{className:"squaregrid-img",style:{backgroundImage:"url(".concat(t,")")}})})},m=function(e){var t=e.list,c=e.visibleItems,n=e.setVisibleItems,s=e.hiddenItems,r=e.checkItems;return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"squaregrid",children:t.map((function(e,t){return Object(d.jsx)(b,{className:" card ".concat(c.includes(t)?"squaregrid-card-show":""," ").concat(s.includes(t)?"squaregrid-card-show squaregrid-card-finished":""),onClick:function(){if(!s.includes(t))switch(c.length){case 0:n([t]),r();break;case 1:c[0]!==t&&(n(c.concat(t)),r(c[0],t));break;default:n([])}},imgSource:e.url,imgDesc:e.description},e.id)}))})})};m.defaultProps={list:[]};var O=m;var f=function(e){var t=e.list,c=e.setNewGame,n=e.setVisibleItems,s=e.setHiddenItems,r=e.setWinner,a=e.setScore;return Object(d.jsx)("div",{className:"startpage",children:Object(d.jsx)("button",{onClick:function(){t.sort((function(){return Math.random()-.5})),c(!0),n([]),s([]),r(!1),a(0)},className:"btn btn-warning mb-4",children:"\u041d\u0430\u0447\u0430\u0442\u044c"})})},h=function(e){var t=e.name,c=e.score,s=e.setName,r=Object(n.useState)(!1),a=Object(l.a)(r,2),i=a[0],u=a[1];return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("div",{className:"navbar-title",children:"\u041f\u0430\u043c\u044f\u0442\u044c"}),Object(d.jsxs)("div",{className:"navbar-name",onClick:function(){return u(!0)},children:["\u0418\u043c\u044f: ",Object(d.jsx)("span",{className:i?"d-none":"",children:t}),Object(d.jsx)("input",{type:"text",className:i?"":"d-none",value:t,onBlur:function(){return u(!1)},onChange:function(e){return s(e.target.value)}})]}),Object(d.jsxs)("div",{className:"navbar-score",children:["\u0412\u0440\u0435\u043c\u044f: ",c]})]})},x=function(e){var t=e.results;return t.length>0&&Object(d.jsxs)("div",{className:"results",children:[Object(d.jsx)("h5",{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0440\u0435\u043a\u043e\u0440\u0434\u043e\u0432"}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"\u0418\u043c\u044f"}),Object(d.jsx)("td",{children:"\u0412\u0440\u0435\u043c\u044f"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.score})]},t)}))})]})]})};var v=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),a=Object(l.a)(r,2),o=a[0],b=a[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),g=v[0],p=v[1],N=Object(n.useState)(0),I=Object(l.a)(N,2),S=I[0],k=I[1],w=Object(n.useState)([]),y=Object(l.a)(w,2),q=y[0],C=y[1],E=Object(n.useState)(!0),M=Object(l.a)(E,2),_=M[0],V=M[1],G=Object(n.useState)([]),J=Object(l.a)(G,2),R=J[0],T=J[1],z=Object(n.useState)("unnamed"),B=Object(l.a)(z,2),H=B[0],P=B[1],W=Object(n.useState)([{name:"for test",score:123}]),A=Object(l.a)(W,2),D=A[0],K=A[1],U=function(){R.forEach((function(e){clearTimeout(e)})),T([])};return function(e,t){var c=Object(n.useRef)(null),s=Object(n.useRef)(e);Object(n.useEffect)((function(){s.current=e})),Object(n.useEffect)((function(){if("number"===typeof t)return c.current=window.setInterval((function(){return s.current()}),t),function(){return window.clearInterval(c.current)}}),[t]),c.current}((function(){k((function(e){return e+1}))}),_?null:1e3),Object(n.useEffect)((function(){j.a.get("https://api.unsplash.com/search/photos?query=car&client_id=PURuuKmkzGMyz8735_h1g1A_ZggX-2O-m5_Oev5wJdg&per_page=18").then((function(e){var t=e.data.results.map((function(e){return{id:e.id,url:e.urls.small}}));b(t.concat(t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:e.id+Math.random()})}))).sort((function(){return Math.random()-.5})))}))}),[c]),Object(n.useEffect)((function(){q.length>0&&q.length===o.length&&!_&&(V(!0),K(D.concat([{name:H,score:S}]).sort((function(e,t){return e.score-t.score}))))}),[q,o,D,H,S,_]),Object(d.jsxs)("div",{className:"text-center p-4 d-flex flex-column",children:[Object(d.jsx)(h,{name:H,score:S,setName:P}),_&&Object(d.jsx)(f,{list:o,setNewGame:s,setVisibleItems:p,setHiddenItems:C,setWinner:V,setScore:k}),_&&0!==S&&Object(d.jsxs)("div",{className:"mt-3",children:["\u041f\u043e\u0431\u0435\u0434\u0430! \u0412\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438 \u0437\u0430 ",S," \u0441\u0435\u043a\u0443\u043d\u0434"]}),_&&Object(d.jsx)(x,{results:D}),!_&&Object(d.jsxs)("div",{children:[0===o.length?Object(d.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439..."}):Object(d.jsx)("div",{children:Object(d.jsx)(O,{disabled:_,list:o,visibleItems:g,setVisibleItems:p,hiddenItems:q,checkItems:function(e,t){U([]),e!==t&&o[e].url===o[t].url?(C([].concat(Object(u.a)(q),[e,t])),p([])):T("undefined"===typeof e?R.concat(setTimeout((function(){p([])}),5e3)):R.concat(setTimeout((function(){p([])}),500)))}})}),_]})]})};var g=function(){return Object(d.jsx)(v,{})};a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.ba637d2e.chunk.js.map